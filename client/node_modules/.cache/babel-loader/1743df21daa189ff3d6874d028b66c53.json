{"ast":null,"code":"import _objectSpread from\"C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'../axios';import React,{useEffect,useState}from'react';import{Col,Container,Row}from'react-bootstrap';import{useParams}from'react-router-dom';import Loading from'../components/Loading';import ProductPreview from'../components/ProductPreview';import'./CategoryPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryPage(){var _useParams=useParams(),category=_useParams.category;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];useEffect(function(){setLoading(true);axios.get(\"/products/category/\".concat(category)).then(function(_ref){var data=_ref.data;setLoading(false);setProducts(data);}).catch(function(e){setLoading(false);console.log(e.message);});},[category]);if(loading){/*#__PURE__*/_jsx(Loading,{});}var productsSearch=products.filter(function(product){return product.name.toLowerCase().includes(searchTerm.toLowerCase());});console.log(productsSearch);return/*#__PURE__*/_jsxs(\"div\",{className:\"category-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 \".concat(category,\"-banner-container category-banner-container\"),children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:category.charAt(0).toUpperCase()+category.slice(1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"filters-container d-flex justify-content-center pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search\",onChange:function onChange(e){return setSearchTerm(e.target.value);}})}),productsSearch.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"No products to show\"}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:10,offset:1},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center flex-wrap\",children:productsSearch.map(function(product){return/*#__PURE__*/_jsx(ProductPreview,_objectSpread({},product));})})})})})]});}export default CategoryPage;","map":{"version":3,"names":["axios","React","useEffect","useState","Col","Container","Row","useParams","Loading","ProductPreview","CategoryPage","category","loading","setLoading","products","setProducts","searchTerm","setSearchTerm","get","then","data","catch","e","console","log","message","productsSearch","filter","product","name","toLowerCase","includes","charAt","toUpperCase","slice","target","value","length","span","offset","map"],"sources":["C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/src/pages/CategoryPage.js"],"sourcesContent":["import axios from '../axios';\nimport React, { useEffect,useState } from 'react'\nimport {Col,Container,Row} from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport ProductPreview from '../components/ProductPreview';\nimport './CategoryPage.css'\nfunction CategoryPage() {\n    const {category}=useParams();\n    const [loading,setLoading]=useState(false);\n    const [products,setProducts]=useState([]);\n    const [searchTerm,setSearchTerm]=useState(\"\");\n\n    useEffect(()=>{\n        setLoading(true);\n        axios.get(`/products/category/${category}`).then(({data})=>{\n            setLoading(false);\n            setProducts(data);\n        })\n        .catch((e)=>{\n            setLoading(false);\n            console.log(e.message);\n        })\n    },[category])\n    if(loading){\n        <Loading />\n    }\n    const productsSearch=products.filter((product)=>product.name.toLowerCase().includes(searchTerm.toLowerCase()))\n    console.log(productsSearch);\n        return <div className='category-page-container'>\n    <div className={`pt-3 ${category}-banner-container category-banner-container`}>\n        <h1 className='text-center'>{category.charAt(0).toUpperCase()+category.slice(1)}</h1>\n    </div>\n\n    <div className='filters-container d-flex justify-content-center pt-4 pb-4'>\n        <input type=\"search\" placeholder='Search' onChange={(e)=>setSearchTerm(e.target.value)} />\n    </div>\n    {productsSearch.length===0?<h1>No products to show</h1>:<Container>\n            <Row>\n                <Col md={{span:10,offset:1}}>\n                    <div className='d-flex justify-content-center align-items-center flex-wrap'>\n                    {productsSearch.map(product=><ProductPreview {...product} />)}\n                    </div>\n                </Col>\n            </Row>\n        </Container>}\n  </div>\n}\n\nexport default CategoryPage"],"mappings":"2QAAA,MAAOA,MAAP,KAAkB,UAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,CACA,OAAQC,GAAR,CAAYC,SAAZ,CAAsBC,GAAtB,KAAgC,iBAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,MAAO,oBAAP,C,wFACA,QAASC,aAAT,EAAwB,CACpB,eAAiBH,SAAS,EAA1B,CAAOI,QAAP,YAAOA,QAAP,CACA,cAA2BR,QAAQ,CAAC,KAAD,CAAnC,wCAAOS,OAAP,eAAeC,UAAf,eACA,eAA6BV,QAAQ,CAAC,EAAD,CAArC,yCAAOW,QAAP,eAAgBC,WAAhB,eACA,eAAiCZ,QAAQ,CAAC,EAAD,CAAzC,yCAAOa,UAAP,eAAkBC,aAAlB,eAEAf,SAAS,CAAC,UAAI,CACVW,UAAU,CAAC,IAAD,CAAV,CACAb,KAAK,CAACkB,GAAN,8BAAgCP,QAAhC,GAA4CQ,IAA5C,CAAiD,cAAU,IAARC,KAAQ,MAARA,IAAQ,CACvDP,UAAU,CAAC,KAAD,CAAV,CACAE,WAAW,CAACK,IAAD,CAAX,CACH,CAHD,EAICC,KAJD,CAIO,SAACC,CAAD,CAAK,CACRT,UAAU,CAAC,KAAD,CAAV,CACAU,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,OAAd,EACH,CAPD,EAQH,CAVQ,CAUP,CAACd,QAAD,CAVO,CAAT,CAWA,GAAGC,OAAH,CAAW,CACP,kBAAC,OAAD,KACH,CACD,GAAMc,eAAc,CAACZ,QAAQ,CAACa,MAAT,CAAgB,SAACC,OAAD,QAAWA,QAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCf,UAAU,CAACc,WAAX,EAApC,CAAX,EAAhB,CAArB,CACAP,OAAO,CAACC,GAAR,CAAYE,cAAZ,EACI,mBAAO,aAAK,SAAS,CAAC,yBAAf,wBACX,YAAK,SAAS,gBAAUf,QAAV,+CAAd,uBACI,WAAI,SAAS,CAAC,aAAd,UAA6BA,QAAQ,CAACqB,MAAT,CAAgB,CAAhB,EAAmBC,WAAnB,GAAiCtB,QAAQ,CAACuB,KAAT,CAAe,CAAf,CAA9D,EADJ,EADW,cAKX,YAAK,SAAS,CAAC,2DAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,QAAjC,CAA0C,QAAQ,CAAE,kBAACZ,CAAD,QAAKL,cAAa,CAACK,CAAC,CAACa,MAAF,CAASC,KAAV,CAAlB,EAApD,EADJ,EALW,CAQVV,cAAc,CAACW,MAAf,GAAwB,CAAxB,cAA0B,2CAA1B,cAAuD,KAAC,SAAD,wBAChD,KAAC,GAAD,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAACC,IAAI,CAAC,EAAN,CAASC,MAAM,CAAC,CAAhB,CAAT,uBACI,YAAK,SAAS,CAAC,4DAAf,UACCb,cAAc,CAACc,GAAf,CAAmB,SAAAZ,OAAO,qBAAE,KAAC,cAAD,kBAAoBA,OAApB,EAAF,EAA1B,CADD,EADJ,EADJ,EADgD,EAR7C,GAAP,CAkBP,CAED,cAAelB,aAAf"},"metadata":{},"sourceType":"module"}