{"ast":null,"code":"import _slicedToArray from\"C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useSelector}from'react-redux';import{Table,Button}from'react-bootstrap';import{Link}from'react-router-dom';import'./DashboardProducts.css';import{useDeleteProductMutation}from'../services/appApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DashboardProducts(){var products=useSelector(function(state){return state.products;});var user=useSelector(function(state){return state.user;});//removing the product\nvar _useDeleteProductMuta=useDeleteProductMutation(),_useDeleteProductMuta2=_slicedToArray(_useDeleteProductMuta,2),deleteProduct=_useDeleteProductMuta2[0],_useDeleteProductMuta3=_useDeleteProductMuta2[1],isLoading=_useDeleteProductMuta3.isLoading,isSuccess=_useDeleteProductMuta3.isSuccess;function handleDeleteProduct(id){if(window.confirm('Are you sure?'))deleteProduct({product_id:id,user_id:user._id});}return/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Product ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.pictures[0].url,className:\"dashboard-product-preview\"})}),/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDeleteProduct(product._id);},disabled:isLoading,children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product._id,\"/edit\"),className:\"btn btn-warning\",children:\"Edit\"})]})]});})})]});}export default DashboardProducts;","map":{"version":3,"names":["React","useSelector","Table","Button","Link","useDeleteProductMutation","DashboardProducts","products","state","user","deleteProduct","isLoading","isSuccess","handleDeleteProduct","id","window","confirm","product_id","user_id","_id","map","product","pictures","url","name","price"],"sources":["C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/src/components/DashboardProducts.js"],"sourcesContent":["import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Table,Button } from 'react-bootstrap';\nimport {Link} from 'react-router-dom'\nimport './DashboardProducts.css'\nimport { useDeleteProductMutation } from '../services/appApi';\n\nfunction DashboardProducts() {\n    const products=useSelector(state=>state.products);\n    const user=useSelector(state=>state.user);\n    //removing the product\n    const [deleteProduct,{isLoading,isSuccess}]=useDeleteProductMutation();\n    function handleDeleteProduct(id){\n        if(window.confirm('Are you sure?')) deleteProduct({product_id:id,user_id:user._id})\n    }\n  return (\n    <Table striped bordered hover responsive>\n        <thead>\n            <tr>\n                <th></th>\n                <th>Product ID</th>\n                <th>Product Name</th>\n                <th>Product Price</th>\n            </tr>\n        </thead>\n        <tbody>\n            {products.map(product=><tr>\n                <td><img src={product.pictures[0].url} className='dashboard-product-preview' /></td>\n                <td>{product._id}</td>\n                <td>{product.name}</td>\n                <td>${product.price}</td>\n                <td>\n                    <Button onClick={()=>handleDeleteProduct(product._id)} disabled={isLoading}>Delete</Button>\n                    <Link to={`/product/${product._id}/edit`} className=\"btn btn-warning\">Edit</Link>\n                </td>\n            </tr>)}\n        </tbody>\n    </Table>\n  )\n}\n\nexport default DashboardProducts"],"mappings":"sIAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,KAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAO,yBAAP,CACA,OAASC,wBAAT,KAAyC,oBAAzC,C,wFAEA,QAASC,kBAAT,EAA6B,CACzB,GAAMC,SAAQ,CAACN,WAAW,CAAC,SAAAO,KAAK,QAAEA,MAAK,CAACD,QAAR,EAAN,CAA1B,CACA,GAAME,KAAI,CAACR,WAAW,CAAC,SAAAO,KAAK,QAAEA,MAAK,CAACC,IAAR,EAAN,CAAtB,CACA;AACA,0BAA4CJ,wBAAwB,EAApE,gEAAOK,aAAP,4EAAsBC,SAAtB,wBAAsBA,SAAtB,CAAgCC,SAAhC,wBAAgCA,SAAhC,CACA,QAASC,oBAAT,CAA6BC,EAA7B,CAAgC,CAC5B,GAAGC,MAAM,CAACC,OAAP,CAAe,eAAf,CAAH,CAAoCN,aAAa,CAAC,CAACO,UAAU,CAACH,EAAZ,CAAeI,OAAO,CAACT,IAAI,CAACU,GAA5B,CAAD,CAAb,CACvC,CACH,mBACE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,UAAU,KAAxC,wBACI,oCACI,mCACI,aADJ,cAEI,kCAFJ,cAGI,oCAHJ,cAII,qCAJJ,GADJ,EADJ,cASI,uBACKZ,QAAQ,CAACa,GAAT,CAAa,SAAAC,OAAO,qBAAE,mCACnB,iCAAI,YAAK,GAAG,CAAEA,OAAO,CAACC,QAAR,CAAiB,CAAjB,EAAoBC,GAA9B,CAAmC,SAAS,CAAC,2BAA7C,EAAJ,EADmB,cAEnB,oBAAKF,OAAO,CAACF,GAAb,EAFmB,cAGnB,oBAAKE,OAAO,CAACG,IAAb,EAHmB,cAInB,0BAAMH,OAAO,CAACI,KAAd,GAJmB,cAKnB,mCACI,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAIZ,oBAAmB,CAACQ,OAAO,CAACF,GAAT,CAAvB,EAAjB,CAAuD,QAAQ,CAAER,SAAjE,oBADJ,cAEI,KAAC,IAAD,EAAM,EAAE,oBAAcU,OAAO,CAACF,GAAtB,SAAR,CAA0C,SAAS,CAAC,iBAApD,kBAFJ,GALmB,GAAF,EAApB,CADL,EATJ,GADF,CAwBD,CAED,cAAeb,kBAAf"},"metadata":{},"sourceType":"module"}