{"ast":null,"code":"import _slicedToArray from\"C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./OrdersPage.css';import{useSelector}from'react-redux';import{Badge,Container,Table}from'react-bootstrap';import axios from'../axios';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersPage(){var user=useSelector(function(state){return state.user;});var products=useSelector(function(state){return state.products;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orderToShow=_useState6[0],setOrderToShow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];useEffect(function(){setLoading(true);axios.get(\"/users/\".concat(user._id,\"/orders\")).then(function(_ref){var data=_ref.data;setLoading(false);setOrders(data);}).catch(function(e){setLoading(false);console.log(e);});},[]);if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(orders.length===0){return/*#__PURE__*/_jsx(\"h1\",{className:\"text-center pt-3\",children:\"No orders yet\"});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Your orders\"}),/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"\".concat(order.status==='processing'?\"warning\":\"success\"),text:\"white\",children:order.status})}),/*#__PURE__*/_jsx(\"td\",{children:order.date}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.total]})]});})})]})]});}export default OrdersPage;","map":{"version":3,"names":["React","useState","useEffect","useSelector","Badge","Container","Table","axios","Loading","OrdersPage","user","state","products","orders","setOrders","loading","setLoading","orderToShow","setOrderToShow","show","setShow","get","_id","then","data","catch","e","console","log","length","map","order","status","date","total"],"sources":["C:/Users/kandw/OneDrive/Desktop/Ecommerce/client/src/pages/OrdersPage.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport './OrdersPage.css'\nimport { useSelector } from 'react-redux'\nimport { Badge,Container,Table } from 'react-bootstrap';\nimport axios from '../axios';\nimport Loading from '../components/Loading';\n\nfunction OrdersPage() {\n    const user=useSelector(state=>state.user);\n    const products=useSelector(state=>state.products);\n    const [orders,setOrders]=useState([]);\n    const [loading,setLoading]=useState(false);\n    const [orderToShow,setOrderToShow]=useState([]);\n    const [show,setShow]=useState(false);\n\n    useEffect(()=>{\n        setLoading(true);\n        axios.get(`/users/${user._id}/orders`).then(({data})=>{\n            setLoading(false);\n            setOrders(data);\n        }).catch((e)=>{\n            setLoading(false);\n            console.log(e);\n        })\n    },[]);\n    if(loading){\n        return <Loading />;\n    }\n    if(orders.length===0){\n        return <h1 className='text-center pt-3'>No orders yet</h1>\n    }\n  return<Container>\n    <h1 className='text-center'>Your orders</h1>\n    <Table responsive striped bordered hover>\n        <thead>\n            <tr>\n                <th>#</th>\n                <th>Status</th>\n                <th>Date</th>\n                <th>Total</th>\n                {/* <th>&nbsp;</th> */}\n            </tr>\n        </thead>\n        <tbody>\n            {orders.map(order=>(<tr>\n                <td>{order._id}</td>\n                <td><Badge bg={`${order.status==='processing'?\"warning\":\"success\"}`} text=\"white\">{order.status}</Badge></td>\n                <td>{order.date}</td>\n                <td>${order.total}</td>\n            </tr>))}\n        </tbody>\n    </Table>\n  </Container>\n}\n\nexport default OrdersPage"],"mappings":"sIAAA,MAAOA,MAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAO,kBAAP,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,KAAT,CAAeC,SAAf,CAAyBC,KAAzB,KAAsC,iBAAtC,CACA,MAAOC,MAAP,KAAkB,UAAlB,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,wFAEA,QAASC,WAAT,EAAsB,CAClB,GAAMC,KAAI,CAACP,WAAW,CAAC,SAAAQ,KAAK,QAAEA,MAAK,CAACD,IAAR,EAAN,CAAtB,CACA,GAAME,SAAQ,CAACT,WAAW,CAAC,SAAAQ,KAAK,QAAEA,MAAK,CAACC,QAAR,EAAN,CAA1B,CACA,cAAyBX,QAAQ,CAAC,EAAD,CAAjC,wCAAOY,MAAP,eAAcC,SAAd,eACA,eAA2Bb,QAAQ,CAAC,KAAD,CAAnC,yCAAOc,OAAP,eAAeC,UAAf,eACA,eAAmCf,QAAQ,CAAC,EAAD,CAA3C,yCAAOgB,WAAP,eAAmBC,cAAnB,eACA,eAAqBjB,QAAQ,CAAC,KAAD,CAA7B,yCAAOkB,IAAP,eAAYC,OAAZ,eAEAlB,SAAS,CAAC,UAAI,CACVc,UAAU,CAAC,IAAD,CAAV,CACAT,KAAK,CAACc,GAAN,kBAAoBX,IAAI,CAACY,GAAzB,aAAuCC,IAAvC,CAA4C,cAAU,IAARC,KAAQ,MAARA,IAAQ,CAClDR,UAAU,CAAC,KAAD,CAAV,CACAF,SAAS,CAACU,IAAD,CAAT,CACH,CAHD,EAGGC,KAHH,CAGS,SAACC,CAAD,CAAK,CACVV,UAAU,CAAC,KAAD,CAAV,CACAW,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACH,CAND,EAOH,CATQ,CASP,EATO,CAAT,CAUA,GAAGX,OAAH,CAAW,CACP,mBAAO,KAAC,OAAD,IAAP,CACH,CACD,GAAGF,MAAM,CAACgB,MAAP,GAAgB,CAAnB,CAAqB,CACjB,mBAAO,WAAI,SAAS,CAAC,kBAAd,2BAAP,CACH,CACH,mBAAM,MAAC,SAAD,yBACJ,WAAI,SAAS,CAAC,aAAd,yBADI,cAEJ,MAAC,KAAD,EAAO,UAAU,KAAjB,CAAkB,OAAO,KAAzB,CAA0B,QAAQ,KAAlC,CAAmC,KAAK,KAAxC,wBACI,oCACI,mCACI,yBADJ,cAEI,8BAFJ,cAGI,4BAHJ,cAII,6BAJJ,GADJ,EADJ,cAUI,uBACKhB,MAAM,CAACiB,GAAP,CAAW,SAAAC,KAAK,qBAAG,mCAChB,oBAAKA,KAAK,CAACT,GAAX,EADgB,cAEhB,iCAAI,KAAC,KAAD,EAAO,EAAE,WAAKS,KAAK,CAACC,MAAN,GAAe,YAAf,CAA4B,SAA5B,CAAsC,SAA3C,CAAT,CAAiE,IAAI,CAAC,OAAtE,UAA+ED,KAAK,CAACC,MAArF,EAAJ,EAFgB,cAGhB,oBAAKD,KAAK,CAACE,IAAX,EAHgB,cAIhB,0BAAMF,KAAK,CAACG,KAAZ,GAJgB,GAAH,EAAhB,CADL,EAVJ,GAFI,GAAN,CAsBD,CAED,cAAezB,WAAf"},"metadata":{},"sourceType":"module"}